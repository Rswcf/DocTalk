@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #09090b;
  --border: #e4e4e7;
  /* Highlight colors */
  --highlight-base: rgba(56, 189, 248, 0.25);
  --highlight-strong: rgba(56, 189, 248, 0.5);
}

.dark {
  --background: #09090b;
  --foreground: #fafafa;
  --border: #3f3f46;
  /* Dark mode highlight colors */
  --highlight-base: rgba(56, 189, 248, 0.20);
  --highlight-strong: rgba(56, 189, 248, 0.5);
}

html, body {
  height: 100%;
}

body {
  color: var(--foreground);
  background: var(--background);
}

/* Tighten prose spacing inside chat bubbles */
.prose.prose-sm p {
  margin-top: 0.375em;
  margin-bottom: 0.375em;
}
.prose.prose-sm ul,
.prose.prose-sm ol {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}
.prose.prose-sm li {
  margin-top: 0.125em;
  margin-bottom: 0.125em;
}

/* PDF text-level citation highlighting */
.textLayer mark.pdf-highlight {
  background-color: var(--highlight-base);
  color: transparent;
  border-radius: 2px;
  padding: 1px 0;
  animation: highlightPulse 1.2s ease-out;
}

@keyframes highlightPulse {
  0% { background-color: var(--highlight-strong); box-shadow: 0 0 8px var(--highlight-strong); }
  50% { background-color: var(--highlight-base); box-shadow: 0 0 4px var(--highlight-base); }
  100% { background-color: var(--highlight-base); box-shadow: none; }
}

/* Overlay-layer citation highlighting (always visible, even without text layer) */
.citation-overlay {
  background: rgba(56, 189, 248, 0.15);
  border-left: 3px solid rgba(56, 189, 248, 0.6);
  border-radius: 2px;
  pointer-events: none;
  animation: overlayPulse 1.5s ease-out;
}

@keyframes overlayPulse {
  0% { background: rgba(56, 189, 248, 0.35); border-left-color: rgba(56, 189, 248, 0.9); }
  40% { background: rgba(56, 189, 248, 0.2); border-left-color: rgba(56, 189, 248, 0.7); }
  100% { background: rgba(56, 189, 248, 0.15); border-left-color: rgba(56, 189, 248, 0.6); }
}
